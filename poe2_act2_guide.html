<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POE2 Act 2 - Complete Guide (Patch 0.4)</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Segoe UI', system-ui, sans-serif; background: #1a1a1a; color: #b8b8b8; font-size: 14px; line-height: 1.4; min-height: 100vh; }
        .container { display: flex; max-width: 1200px; margin: 0 auto; }
        .sidebar { width: 220px; background: #0d0d0d; border-right: 1px solid #2a2a2a; padding: 1rem; position: fixed; height: 100vh; overflow-y: auto; }
        .sidebar h2 { color: #af6025; font-size: 13px; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 0.75rem; padding-bottom: 0.5rem; border-bottom: 1px solid #2a2a2a; }
        .sidebar-section { margin-bottom: 1.25rem; }
        .sidebar-link { display: block; color: #8a8a8a; text-decoration: none; padding: 0.3rem 0.5rem; font-size: 12px; border-radius: 3px; transition: all 0.15s; }
        .sidebar-link:hover { background: #252525; color: #d4d4d4; }
        .sidebar-link.perm { color: #7ec47e; }
        .progress-info { background: #252525; border-radius: 4px; padding: 0.75rem; margin-bottom: 1rem; }
        .progress-bar-bg { height: 6px; background: #1a1a1a; border-radius: 3px; overflow: hidden; margin-bottom: 0.5rem; }
        .progress-bar-fill { height: 100%; background: linear-gradient(90deg, #af6025, #d4943a); width: 0%; transition: width 0.3s; }
        .progress-text { font-size: 12px; color: #8a8a8a; text-align: center; }
        .reset-btn { width: 100%; background: #2a2a2a; border: 1px solid #3a3a3a; color: #8a8a8a; padding: 0.5rem; border-radius: 4px; cursor: pointer; font-size: 12px; transition: all 0.15s; margin-top: 0.5rem; }
        .reset-btn:hover { background: #3a3a3a; color: #d4d4d4; }
        .export-btn { background: #1a2e1a; border-color: #2a4a2a; color: #7ec47e; }
        .export-btn:hover { background: #2a4a2a; }
        .import-btn { background: #1a2a3a; border-color: #2a4a5a; color: #7fbadc; }
        .import-btn:hover { background: #2a4a5a; }
        .import-dialog { margin-top: 0.5rem; }
        .import-dialog textarea { width: 100%; height: 60px; background: #1a1a1a; border: 1px solid #3a3a3a; color: #b8b8b8; padding: 0.5rem; border-radius: 4px; font-size: 11px; resize: none; font-family: monospace; }
        .import-actions { display: flex; gap: 0.5rem; margin-top: 0.5rem; }
        .import-actions button { flex: 1; padding: 0.4rem; background: #2a2a2a; border: 1px solid #3a3a3a; color: #b8b8b8; border-radius: 4px; cursor: pointer; font-size: 11px; }
        .import-actions button:first-child { background: #1a2e1a; border-color: #2a4a2a; color: #7ec47e; }
        .import-actions button:hover { opacity: 0.8; }
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: #1a2e1a; border: 1px solid #2a4a2a; color: #7ec47e; padding: 0.75rem 1.5rem; border-radius: 6px; font-size: 13px; z-index: 1000; animation: fadeInOut 3s forwards; }
        .toast.error { background: #2e1a1a; border-color: #4a2a2a; color: #e07a5f; }
        @keyframes fadeInOut { 0% { opacity: 0; transform: translateX(-50%) translateY(20px); } 10% { opacity: 1; transform: translateX(-50%) translateY(0); } 90% { opacity: 1; } 100% { opacity: 0; } }
        .main { margin-left: 220px; flex: 1; padding: 1.5rem 2rem; max-width: 900px; }
        .header { margin-bottom: 1.5rem; padding-bottom: 1rem; border-bottom: 1px solid #2a2a2a; }
        .header h1 { color: #af6025; font-size: 1.5rem; font-weight: normal; margin-bottom: 0.25rem; }
        .header .patch { color: #5a5a5a; font-size: 12px; }
        .summary-box { background: #1f1f1f; border: 1px solid #2a2a2a; border-radius: 6px; padding: 1rem; margin-bottom: 1.5rem; }
        .summary-box h3 { color: #7fbadc; font-size: 13px; margin-bottom: 0.5rem; }
        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 0.5rem; }
        .summary-item { background: #1a2e1a; border: 1px solid #2a4a2a; color: #7ec47e; padding: 0.4rem 0.6rem; border-radius: 3px; font-size: 11px; }
        .zone-header { background: linear-gradient(90deg, #252525 0%, transparent 100%); border-left: 3px solid #7fbadc; padding: 0.5rem 1rem; margin: 1.5rem 0 0.5rem; color: #7fbadc; font-size: 13px; font-weight: 600; display: flex; align-items: center; gap: 0.5rem; }
        .zone-header .wp { background: #1a2a3a; color: #7fbadc; padding: 0.15rem 0.4rem; border-radius: 3px; font-size: 10px; font-weight: normal; }
        .zone-header .town { background: #2a1a2a; color: #c47ec4; }
        .zone-header .trial { background: #2a2a1a; color: #c4c47e; }
        .step { display: flex; background: #1f1f1f; margin-bottom: 1px; transition: all 0.15s; border-left: 2px solid transparent; }
        .step:hover { background: #252525; }
        .step.completed { opacity: 0.5; }
        .step.completed .step-content { text-decoration: line-through; text-decoration-color: #5a5a5a; }
        .step-check { width: 36px; display: flex; align-items: flex-start; justify-content: center; padding-top: 0.5rem; cursor: pointer; }
        .checkbox { width: 14px; height: 14px; border: 1px solid #4a4a4a; border-radius: 2px; display: flex; align-items: center; justify-content: center; transition: all 0.15s; background: #1a1a1a; }
        .step:hover .checkbox { border-color: #af6025; }
        .step.completed .checkbox { background: #af6025; border-color: #af6025; }
        .step.completed .checkbox::after { content: '‚úì'; color: #1a1a1a; font-size: 10px; font-weight: bold; }
        .step-content { flex: 1; padding: 0.4rem 0.5rem 0.4rem 0; font-size: 12px; color: #b8b8b8; }
        .step-content .action { color: #d4d4d4; }
        .step-content .npc { color: #c4a47e; }
        .step-content .boss { color: #e07a5f; }
        .step-content .item { color: #7ec4c4; }
        .step-content .loc { color: #7fbadc; }
        .step-content .skip { color: #6a6a6a; font-style: italic; }
        .reward-tag { display: inline-block; background: #1a2e1a; border: 1px solid #2a4a2a; color: #7ec47e; padding: 0.1rem 0.35rem; border-radius: 2px; font-size: 10px; margin-left: 0.5rem; }
        .reward-tag.craft { background: #2a2a1a; border-color: #4a4a2a; color: #c4c47e; }
        .reward-tag.gem { background: #1a2a2a; border-color: #2a4a4a; color: #7ec4c4; }
        .reward-tag.optional { background: #2a2a2a; border-color: #3a3a3a; color: #8a8a8a; }
        .reward-tag.choice { background: #2a1a2a; border-color: #4a2a4a; color: #c47ec4; }
        .reward-tag.asc { background: #2a2a1a; border-color: #4a4a2a; color: #c4c47e; }
        .note { background: #1c2128; border-left: 2px solid #5a6a7a; padding: 0.4rem 0.6rem; margin: 0.25rem 0 0.25rem 36px; font-size: 11px; color: #8a8a8a; }
        .nav-links { display: flex; justify-content: space-between; margin-top: 2rem; padding-top: 1rem; border-top: 1px solid #2a2a2a; }
        .nav-link { color: #7fbadc; text-decoration: none; font-size: 13px; padding: 0.5rem 1rem; background: #1f1f1f; border-radius: 4px; }
        .nav-link:hover { background: #252525; }
        @media (max-width: 768px) { .sidebar { display: none; } .main { margin-left: 0; padding: 1rem; } }
    </style>
</head>
<body>
    <div class="container">
        <aside class="sidebar">
            <div class="progress-info">
                <div class="progress-bar-bg"><div class="progress-bar-fill" id="progressBar"></div></div>
                <div class="progress-text" id="progressText">0 / 0</div>
            </div>
            <button class="reset-btn" onclick="resetProgress()">Reset Progress</button>
            <button class="reset-btn export-btn" onclick="exportAllProgress()">üì§ Export Progress</button>
            <button class="reset-btn import-btn" onclick="showImportDialog()">üì• Import Progress</button>
            <div id="importDialog" class="import-dialog" style="display:none;">
                <textarea id="importCode" placeholder="Paste progress code here..."></textarea>
                <div class="import-actions">
                    <button onclick="importAllProgress()">Import</button>
                    <button onclick="hideImportDialog()">Cancel</button>
                </div>
            </div>
            <div class="sidebar-section">
                <h2>Zones</h2>
                <a href="#vastiri" class="sidebar-link">Vastiri Outskirts</a>
                <a href="#caravan" class="sidebar-link">Ardura Caravan</a>
                <a href="#mawdun" class="sidebar-link">Mawdun Quarry/Mine</a>
                <a href="#traitor" class="sidebar-link">Traitor's Passage</a>
                <a href="#halani" class="sidebar-link">Halani Gates</a>
                <a href="#mastodon" class="sidebar-link">Mastodon Badlands</a>
                <a href="#bonepits" class="sidebar-link">The Bone Pits</a>
                <a href="#keth" class="sidebar-link perm">Keth ‚ú¶</a>
                <a href="#lostcity" class="sidebar-link">The Lost City</a>
                <a href="#valley" class="sidebar-link perm">Valley of Titans ‚ú¶</a>
                <a href="#deshar" class="sidebar-link perm">Deshar ‚ú¶</a>
                <a href="#spires" class="sidebar-link perm">Spires of Deshar ‚ú¶</a>
                <a href="#dreadnought" class="sidebar-link">The Dreadnought</a>
            </div>
            <div class="sidebar-section">
                <h2>Navigation</h2>
                <a href="index.html" class="sidebar-link">‚Üê Back to Index</a>
                <a href="poe2_act1_guide.html" class="sidebar-link">‚Üê Act 1</a>
                <a href="poe2_act3_guide.html" class="sidebar-link">‚Üí Act 3</a>
                <a href="poe2_act4_guide.html" class="sidebar-link">‚Üí Act 4</a>
            </div>
        </aside>
        
        <main class="main">
            <header class="header">
                <h1>üèúÔ∏è Act 2 ‚Äì Complete Walkthrough</h1>
                <span class="patch">Patch 0.4 ‚Ä¢ Normal Difficulty ‚Ä¢ All Rewards</span>
            </header>

            <div class="summary-box">
                <h3>Act 2 Permanent Rewards</h3>
                <div class="summary-grid">
                    <div class="summary-item">+4 Weapon Set Skill Points</div>
                    <div class="summary-item">+10% Lightning Resistance</div>
                    <div class="summary-item">Charm/Mana Recovery (choice)</div>
                    <div class="summary-item">‚ö° First Ascendancy Trial</div>
                </div>
            </div>

            <!-- VASTIRI OUTSKIRTS -->
            <div class="zone-header" id="vastiri">Vastiri Outskirts</div>
            <div class="step" data-step="1"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">The Hooded One</span></div></div>
            <div class="step" data-step="2"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Rathbreaker</span></div></div>
            <div class="step" data-step="3"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to start of zone</div></div>
            <div class="step" data-step="4"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Zarka</span></div></div>
            <div class="step" data-step="5"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Ardura Caravan</span></div></div>

            <!-- ARDURA CARAVAN -->
            <div class="zone-header" id="caravan">The Ardura Caravan <span class="wp town">TOWN</span></div>
            <div class="step" data-step="6"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">The Hooded One</span> and <span class="npc">Sekhema Asala</span> (x2)</div></div>
            <div class="step" data-step="7"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Use <span class="item">Desert Map</span> to travel to <span class="loc">The Halani Gates</span></div></div>
            <div class="step" data-step="8"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter Halani Gates, talk to <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="9"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Go back to Caravan, talk to <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="10"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Mawdun Quarry</span></div></div>

            <!-- MAWDUN QUARRY -->
            <div class="zone-header" id="mawdun">Mawdun Quarry</div>
            <div class="step" data-step="11"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Loot <span class="item">Faridun War Cache</span> near checkpoint <span class="reward-tag optional">Artificer's Orb</span></div></div>
            <div class="step" data-step="12"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">Mawdun Mine</span> (follow checkpoints)</div></div>

            <!-- MAWDUN MINE -->
            <div class="zone-header">Mawdun Mine</div>
            <div class="step" data-step="13"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Rudja</span></div></div>
            <div class="step" data-step="14"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Risu</span> in cage</div></div>
            <div class="step" data-step="15"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="16"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Risu</span> and <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="17"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Traitor's Passage</span></div></div>

            <!-- TRAITOR'S PASSAGE -->
            <div class="zone-header" id="traitor">Traitor's Passage</div>
            <div class="step" data-step="18"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Interact with <span class="item">Ancient Seal</span> door and Runic Seals</div></div>
            <div class="step" data-step="19"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Balbala, the Traitor</span> <span class="reward-tag asc">Djinn Barya</span></div></div>
            <div class="note">‚ö° First Ascendancy trial access unlocked!</div>
            <div class="step" data-step="20"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Loot <span class="item">Bell Chest</span> in dead end <span class="reward-tag optional">Random loot</span></div></div>
            <div class="step" data-step="21"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Halani Gates</span> (follow stairs up)</div></div>

            <!-- HALANI GATES -->
            <div class="zone-header" id="halani">The Halani Gates</div>
            <div class="step" data-step="22"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Summon <span class="npc">Asala</span> to open the gates</div></div>
            <div class="step" data-step="23"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Jamanra</span></div></div>
            <div class="step" data-step="24"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Take stairs, search checkpoint</div></div>
            <div class="step" data-step="25"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="26"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Shambrin</span>, <span class="npc">Zarka</span>, <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="27"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Trial of Sekhemas</span>, take waypoint <span class="reward-tag asc">Do trial if ready</span></div></div>
            <div class="step" data-step="28"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">TP back, travel to <span class="loc">Mastodon Badlands</span></div></div>

            <!-- MASTODON BADLANDS -->
            <div class="zone-header" id="mastodon">Mastodon Badlands</div>
            <div class="step" data-step="29"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Loot <span class="item">Effigy</span> near checkpoint <span class="reward-tag gem">Support Gem Lvl 2</span></div></div>
            <div class="step" data-step="30"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Bone Pits</span></div></div>

            <!-- BONE PITS -->
            <div class="zone-header" id="bonepits">The Bone Pits</div>
            <div class="step" data-step="31"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill mobs until <span class="item">Sun Clan Relic</span> drops</div></div>
            <div class="note">üìå Keep this for Valley of the Titans altar!</div>
            <div class="step" data-step="32"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Iktab & Ekbab</span>, loot <span class="item">Mastodon Tusks</span></div></div>
            <div class="step" data-step="33"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="34"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Zarka</span></div></div>
            <div class="step" data-step="35"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Keth</span></div></div>

            <!-- KETH -->
            <div class="zone-header" id="keth">Keth</div>
            <div class="step" data-step="36"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill mobs until <span class="item">Kabala Clan Relic</span> drops</div></div>
            <div class="note">üìå Keep this for Valley of the Titans altar!</div>
            <div class="step" data-step="37"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Kabala, Constrictor Queen</span> <span class="reward-tag">+2 Skill Points</span></div></div>
            <div class="step" data-step="38"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Lost City</span></div></div>

            <!-- LOST CITY -->
            <div class="zone-header" id="lostcity">The Lost City</div>
            <div class="step" data-step="39"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Kill <span class="boss">The Ninth Treasure of Keth</span> <span class="reward-tag optional">Random loot</span></div></div>
            <div class="step" data-step="40"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Loot <span class="item">Golden Tomb</span> <span class="reward-tag gem">Spirit Gem Lvl 7</span></div></div>
            <div class="step" data-step="41"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">Buried Shrines</span></div></div>

            <!-- BURIED SHRINES -->
            <div class="zone-header">Buried Shrines</div>
            <div class="step" data-step="42"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Loot guarded sarcophagus <span class="reward-tag gem">Support Gem</span></div></div>
            <div class="step" data-step="43"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content"><span class="skip">(Optional)</span> Choose Offering (fire/water/lightning) <span class="reward-tag optional">Resist Ring</span></div></div>
            <div class="step" data-step="44"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Heart of Keth</span></div></div>

            <!-- HEART OF KETH -->
            <div class="zone-header">The Heart of Keth</div>
            <div class="step" data-step="45"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Azarian</span></div></div>
            <div class="step" data-step="46"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Water Goddess</span>, click <span class="item">Everburning Cinders</span>, ignite Goddess</div></div>
            <div class="step" data-step="47"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="48"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Zarka</span></div></div>
            <div class="step" data-step="49"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Valley of the Titans</span></div></div>

            <!-- VALLEY OF TITANS -->
            <div class="zone-header" id="valley">Valley of the Titans <span class="wp">WAYPOINT</span></div>
            <div class="step" data-step="50"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Find 3 <span class="item">Ancient Seals</span></div></div>
            <div class="step" data-step="51"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Find <span class="item">Medallion</span> near waypoint, place both relics <span class="reward-tag choice">Choose buff</span></div></div>
            <div class="note">‚ö° Choose: +30% Charm Charges OR +15% Mana Recovery (can change later)</div>
            <div class="step" data-step="52"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Titan Grotto</span></div></div>

            <!-- TITAN GROTTO -->
            <div class="zone-header">The Titan Grotto</div>
            <div class="step" data-step="53"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Zalmarath, the Colossus</span>, loot <span class="item">Flame Ruby</span></div></div>
            <div class="step" data-step="54"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="55"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Zarka</span> and <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="56"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Halani Gates</span> (don't enter zone)</div></div>
            <div class="step" data-step="57"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Sound the <span class="item">Horn</span> at top of caravan</div></div>
            <div class="step" data-step="58"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="59"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">Deshar</span></div></div>

            <!-- DESHAR -->
            <div class="zone-header" id="deshar">Deshar</div>
            <div class="step" data-step="60"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Find and loot <span class="item">Fallen Dekhara</span> (near tower) <span class="reward-tag">+2 Skill Points</span></div></div>
            <div class="note">üìå Deliver Final Letter to Shambrin for reward</div>
            <div class="step" data-step="61"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">Path of Mourning</span></div></div>

            <!-- PATH OF MOURNING -->
            <div class="zone-header">Path of Mourning</div>
            <div class="step" data-step="62"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">The Spires of Deshar</span></div></div>

            <!-- SPIRES OF DESHAR -->
            <div class="zone-header" id="spires">The Spires of Deshar</div>
            <div class="step" data-step="63"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Interact with <span class="item">Sisters of Garukhan</span> shrine <span class="reward-tag">+10% Lightning Res</span></div></div>
            <div class="step" data-step="64"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Tor Gul</span></div></div>
            <div class="step" data-step="65"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- CARAVAN -->
            <div class="zone-header">The Ardura Caravan</div>
            <div class="step" data-step="66"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Talk to <span class="npc">Sekhema Asala</span></div></div>
            <div class="step" data-step="67"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Travel to <span class="loc">The Dreadnought</span></div></div>

            <!-- DREADNOUGHT -->
            <div class="zone-header" id="dreadnought">The Dreadnought</div>
            <div class="step" data-step="68"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Enter <span class="loc">Dreadnought Vanguard</span></div></div>

            <!-- DREADNOUGHT VANGUARD -->
            <div class="zone-header">Dreadnought Vanguard</div>
            <div class="step" data-step="69"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Kill <span class="boss">Jamanra</span> (Act 2 Boss)</div></div>
            <div class="step" data-step="70"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Teleport back to town</div></div>

            <!-- END -->
            <div class="zone-header">The Ardura Caravan (End of Act)</div>
            <div class="step" data-step="71"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Exit caravan (top left), talk to <span class="npc">The Hooded One</span>, wait for animation</div></div>
            <div class="step" data-step="72"><div class="step-check" onclick="toggleStep(this)"><div class="checkbox"></div></div>
                <div class="step-content">Go back, talk to <span class="npc">Sekhema Asala</span>, choose "Travel to the Sandswept Marsh"</div></div>
            <div class="note">‚úÖ Act 2 Complete! Proceed to Act 3.</div>

            <div class="nav-links">
                <a href="poe2_act1_guide.html" class="nav-link">‚Üê Act 1</a>
                <a href="poe2_act3_guide.html" class="nav-link">Act 3 ‚Üí</a>
            </div>
        </main>
    </div>
    
    <script>
        const STORAGE_KEY = 'poe2-act2-full-v2';
        const ALL_STORAGE_KEYS = ['poe2-act1-full-v2', 'poe2-act2-full-v2', 'poe2-act3-full-v2', 'poe2-act4-full-v3'];
        
        function showToast(message, isError = false) {
            const existing = document.querySelector('.toast');
            if (existing) existing.remove();
            const toast = document.createElement('div');
            toast.className = 'toast' + (isError ? ' error' : '');
            toast.textContent = message;
            document.body.appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }
        
        function exportAllProgress() {
            const allData = {};
            ALL_STORAGE_KEYS.forEach(key => {
                const saved = localStorage.getItem(key);
                if (saved) allData[key] = JSON.parse(saved);
            });
            if (Object.keys(allData).length === 0) {
                showToast('No progress to export!', true);
                return;
            }
            const encoded = btoa(JSON.stringify(allData));
            const code = 'PoE2_' + encoded;
            navigator.clipboard.writeText(code).then(() => {
                showToast('Progress code copied to clipboard!');
            }).catch(() => {
                prompt('Copy this progress code:', code);
            });
        }
        
        function showImportDialog() {
            document.getElementById('importDialog').style.display = 'block';
            document.getElementById('importCode').value = '';
            document.getElementById('importCode').focus();
        }
        
        function hideImportDialog() {
            document.getElementById('importDialog').style.display = 'none';
        }
        
        function importAllProgress() {
            const code = document.getElementById('importCode').value.trim();
            if (!code.startsWith('PoE2_')) {
                showToast('Invalid progress code!', true);
                return;
            }
            if (code.length > 10000) {
                showToast('Progress code too large!', true);
                return;
            }
            try {
                const decoded = JSON.parse(atob(code.substring(5)));
                if (typeof decoded !== 'object' || decoded === null || Array.isArray(decoded)) {
                    throw new Error('Invalid format');
                }
                let imported = 0;
                Object.keys(decoded).forEach(key => {
                    if (ALL_STORAGE_KEYS.includes(key)) {
                        const steps = decoded[key];
                        if (!Array.isArray(steps) || steps.length > 200) return;
                        if (!steps.every(s => typeof s === 'string' && /^\d+$/.test(s))) return;
                        localStorage.setItem(key, JSON.stringify(steps));
                        imported += steps.length;
                    }
                });
                hideImportDialog();
                loadProgress();
                showToast(`Imported ${imported} completed steps!`);
            } catch (e) {
                showToast('Failed to import - invalid code!', true);
            }
        }
        function loadProgress() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) { JSON.parse(saved).forEach(step => { const el = document.querySelector(`[data-step="${step}"]`); if (el) el.classList.add('completed'); }); }
            updateProgressBar();
        }
        function saveProgress() {
            const completed = []; document.querySelectorAll('.step.completed').forEach(el => { completed.push(el.dataset.step); });
            localStorage.setItem(STORAGE_KEY, JSON.stringify(completed));
        }
        function toggleStep(checkbox) { const step = checkbox.closest('.step'); step.classList.toggle('completed'); saveProgress(); updateProgressBar(); }
        function resetProgress() { if (confirm('Reset all progress?')) { localStorage.removeItem(STORAGE_KEY); document.querySelectorAll('.step.completed').forEach(el => { el.classList.remove('completed'); }); updateProgressBar(); } }
        function updateProgressBar() {
            const total = document.querySelectorAll('.step').length; const completed = document.querySelectorAll('.step.completed').length;
            document.getElementById('progressBar').style.width = (completed / total) * 100 + '%';
            document.getElementById('progressText').textContent = `${completed} / ${total}`;
        }
        loadProgress();
    </script>
</body>
</html>
